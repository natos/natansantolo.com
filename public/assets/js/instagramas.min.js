/*! instagramas 1.2.0 2017-06-18 */
!function(a,b){function c(a){return"boolean"==typeof a||"object"==typeof a&&"boolean"==typeof a.valueOf()}function d(a,b){var c=[];for(var e in a)if(a.hasOwnProperty(e)){var f=b?b+"["+e+"]":e,g=a[e];c.push("object"==typeof g?d(g,f):encodeURIComponent(f)+"="+encodeURIComponent(g))}return c.join("&")}function e(a){var b=document.createElement("script"),c=0;b.src=a,b.async=!0,b.onload=b.onreadystatechange=function(){c||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(c=!0,b.onload=b.onreadystatechange=null,b&&b.parentNode&&b.parentNode.removeChild(b))},document.getElementsByTagName("head")[0].appendChild(b)}function f(a,b,c){var f="";"function"==typeof b&&"undefined"==typeof c?c=b:f=d(b),o+=1;var g="phealer_"+(new Date).valueOf()+o;window[g]=function(a){c&&c(a);try{delete window[g]}catch(b){}window[g]=null},e(a+f+"&amp;callback="+g)}function g(a){/in/.test(document.readyState)?setTimeout(function(){g.call(r,a)},9):a.call(r)}var h=window,i=document,j="https://api.instagram.com/v1/users/self/media/recent/?",k={"data-show-tags":{attributeName:"showTags",defaultValue:!1},"data-show-tags-count":{attributeName:"showTagsCount",defaultValue:1},"data-show-likes":{attributeName:"showLikes",defaultValue:!1},"data-render-type":{attributeName:"renderType",defaultValue:"thumbnail"},"data-count":{attributeName:"count",defaultValue:5,maxValue:20}},l={thumbnail:"150",low_resolution:"320",standard_resolution:"640"},m={tag:'<span class="instagrama-tag">{{tag}}</span>'},n={_:function(a){for(var b={},c=0;c<a.length;c+=1)b[a[c]]=i.createElement(a[c]);return b}(["div","figure","figcaption","img","a"]),"new":function(a){return n._[a].cloneNode(!1)}},o=0,p=function(a){var b=this,d=a.getAttribute("data-access-token");if(void 0===d||null===d)throw"Instagramas missing access token: Instagramas needs access token to fetch information from instragram.";a.removeAttribute("data-access-token"),b.element=a,b.children=[],b.childrenLoaded=1;for(var e in k)b[k[e].attributeName]=c(k[e].defaultValue)?"true"===a.getAttribute(e)||k[e].defaultValue:a.getAttribute(e)||k[e].defaultValue;b.count=parseInt(b.count>k["data-count"].maxValue?k["data-count"].maxValue:b.count,10);var f=j+"count="+b.count+"&amp;access_token="+d;b.create().get(f,b.create)};p.prototype.childLoaded=function(){var a=this;return console.log("childLoaded",typeof a.childrenLoaded,a.childrenLoaded,"this.count",typeof a.count,a.count),a.count===a.childrenLoaded?(console.log("done! childrenLoaded for ",a),a.childrenLoaded=null,delete a.childrenLoaded,a.ready()):(a.childrenLoaded+=1,a)},p.prototype.ready=function(){return this.element.setAttribute("data-state","ready"),this},p.prototype.get=function(a,b){function c(a){d.element.setAttribute("data-state","get:success"),b.call(d,a)}var d=this;return d.element.setAttribute("data-state","get:in-progress"),f(a,c),d},p.prototype.create=function(a){var b;for(b=0;b<this.count;b+=1){var c=a&&a.data&&a.data[b];this.children[b]&&c?this.children[b].load(c):this.children.push(new q(this))}return this.element.setAttribute("data-state","created"),this};var q=function(a){return a?(this.parent=a,this.element={},this.render(),this):this};q.prototype.load=function(a){return a?(this.data=a,this.render(),this):this},q.prototype.hasData=function(){return"undefined"!=typeof this.data&&this.data},q.prototype.render=function(){var a=this;return a.element.figure||(a.element.figure=n["new"]("figure"),a.element.figure.className="instagrama-"+a.parent.renderType,a.element.a=n["new"]("a"),a.element.a.target="_blank",a.element.a.className="instagrama",a.element.figure.appendChild(a.element.a)),a.drawImage().drawLikes().drawTags(),a.parent.element.appendChild(a.element.figure),a.hasData()&&(a.element.a.href=a.data.link),a},q.prototype.drawImage=function(){var a=this,b=0;return a.element.img||(a.element.img=n["new"]("img"),a.element.img.className="placeholder",b=l[a.parent.renderType],b&&(a.element.img.style=["width:",b,"px;height:",b,"px;"].join()),a.element.a.appendChild(a.element.img)),a.hasData()&&(a.element.img.setAttribute("id","i"+a.data.id),a.element.img.setAttribute("alt",a.data.caption.text),a.element.img.setAttribute("src",a.data.images[a.parent.renderType].url),a.element.img.onload=function(){a.parent.childLoaded.apply(a.parent,arguments)}),a},q.prototype.drawLikes=function(){if(!this.parent.showLikes)return this;var a=this;return a.element.likescaption||(a.element.likescaption=n["new"]("figcaption"),a.element.likescaption.className="instagrama-likes",a.element.a.appendChild(a.element.likescaption)),a.hasData()&&(a.element.likescaption.innerHTML=a.data.likes.count),a},q.prototype.drawTags=function(){if(!this.parent.showTags)return this;var a=this;if(a.element.tagscaption||(a.element.tagscaption=n["new"]("figcaption"),a.element.tagscaption.className="instagrama-tags",a.element.a.appendChild(a.element.tagscaption)),a.hasData()){var b,c="",d=a.parent.showTagsCount||a.data.tags.length;for(b=0;d>b;b+=1)a.data.tags[b]&&(c+=m.tag.replace("{{tag}}",a.data.tags[b]));a.element.tagscaption.innerHTML=c}return a};var r=this,s=i.querySelectorAll(".instagramas");if(void 0!==s||null!==s){var t=h._instagramas_namespace||"_Instagramas";h._instagramas_namespace=t,h[t]={collection:[]},g(function(){for(var a=0;a<s.length;a+=1)h[t].collection.push(new p(s[a]))})}b["true"]=a}({},function(){return this}());
//# sourceMappingURL=instagramas.min.js.map